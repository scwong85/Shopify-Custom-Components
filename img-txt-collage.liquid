<div class="collage-container">
  {% for block in section.blocks %}
  <div class="collage" style="grid-column: span {{ block.settings.img_width }}; grid-row: span {{ block.settings.img_height }}">
  	{% if block.settings.img %}<img class="collage-img" src={{ block.settings.img | img_url: 'master'  }}  /> {% endif %}
    <div class="collage-txt" style="color: {{ block.settings.txt_color }} {% if block.settings.img %}position: absolute{% endif %}">
      <div class="collage-heading"><h3>{{ block.settings.collage_heading }}</h3></div>
      <div class="collage-desc">{{ block.settings.collage_desc}}</div>
    </div>
  </div>
  {% endfor %}
</div>

<style>
  .collage-container {
  	display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
    padding: 2.5em;
  }
  
  .collage {
  	position: relative;
    border: 1px solid {{ section.settings.border_color }};
  }
  
  .collage-img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform .5s;

  }
  
  .collage-txt {
    padding: 1em;
    top: 1em;
    left: 1em;
  }
  
  @media (max-width: 600px) {
  	.collage-container {
      padding: 1em;
      grid-template-columns: auto;
    }
  }
</style>

{% schema %}
  {
    "name": "Image and Text Collage",
    "settings": [
	  {
      	"type": "color",
        "label": "Collage border color",
        "id": "border_color",
        "default": "#fff"
      }
	],
	"blocks": [
	  {
	    "name": "Image or Text",
		"type": "image_picker",
		"settings": [
		  {
			"type": "image_picker",
			"id": "img",
			"label": "Image"
		  },
		  {
			"type": "range",
			"id": "img_width",
			"min": 1,
			"max": 4,
			"step": 1,
			"unit": "b",
			"label": "Image width (min 1 block, max 4 block)",
			"default": 1
		  },
	      {
			"type": "range",
			"id": "img_height",
			"min": 1,
			"max": 3,
			"step": 1,
			"unit": "b",
			"label": "Image height (min 1 block, max 3 block)",
			"default": 1
		  },
		  {
			"type": "text",
			"id": "collage_heading",
			"label": "Heading"
		  },
		  {
			"type": "text",
			"id": "collage_desc",
			"label": "Description"
		  },
		  {
            "type": "color",
            "label": "Text Color",
            "id": "txt_color",
            "default": "#000"
          }
		]
	  }
	],
	"presets": [
	  {
		"category": "image",
	    "name": "Image Collage"
	  }
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
